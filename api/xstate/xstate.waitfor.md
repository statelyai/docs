---
title: "waitFor"
hide_title: true
custom_edit_url: null
pagination_prev: null
pagination_next: null
---
<!-- Do not edit this file. It is automatically generated by API Documenter. -->



## waitFor() function

Subscribes to an actor ref and waits for its emitted value to satisfy a predicate, and then resolves with that value. Will throw if the desired state is not reached after a timeout (defaults to 10 seconds).

**Signature:**

```typescript
export declare function waitFor<TActorRef extends ActorRef<any, any>>(actorRef: TActorRef, predicate: (emitted: SnapshotFrom<TActorRef>) => boolean, options?: Partial<WaitForOptions>): Promise<SnapshotFrom<TActorRef>>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  actorRef | TActorRef | The actor ref to subscribe to |
|  predicate | (emitted: [SnapshotFrom](./xstate.snapshotfrom.md)<></>&lt;TActorRef&gt;) =&gt; boolean | Determines if a value matches the condition to wait for |
|  options | Partial&lt;WaitForOptions&gt; | _(Optional)_ |

**Returns:**

Promise&lt;[SnapshotFrom](./xstate.snapshotfrom.md)<></>&lt;TActorRef&gt;&gt;

A promise that eventually resolves to the emitted value that matches the condition

## Example


```js
const state = await waitFor(someService, state => {
  return state.hasTag('loaded');
});

state.hasTag('loaded'); // true
```

