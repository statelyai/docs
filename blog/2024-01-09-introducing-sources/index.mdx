---
title: 'Introducing sources'
description: 'With sources, you can now provide implementation code for your actions, actors, and guards, making syncing between the editor and your codebase a breeze.'
authors: [farzad, laura]
tags: [stately, editor, xstate, state machines, sources, actions, actors, guards]
date: 2024-01-09
slug: 2024-01-09-introducing-sources
image: /blog/2024-01-09-introducing-sources.png
---

We’re excited to share with you a feature that unlocks a whole new level of power and flexibility in Stately’s editor: sources. With sources, you can now provide implementation source code for your actions, actors, and guards, making syncing between the editor and your codebase a breeze.

{/* truncate */}

One of the biggest benefits of using our Stately editor is the ability to use your state machines as a source of truth. Using your state machines as live documentation relies upon being able to bi-directionally sync between visualising your state machine and integrating the implementation code in your codebase. Previously we had workarounds for working bi-directionally; you could use the [XState VS Code extension](TODO:) or add your implementation code *after* exporting your machine. You could even keep your machine in a separate file from your implementations to make it easier to keep replacing your machine code with the exported code without overwriting your implementations. But you couldn’t provide implementations code in the editor, and importing your implementations from an existing machine would lose them. But that has all now changed with the introduction of sources!

*Watch a demo of sources from our office hours at the end of December:*

<YouTube id="x-F1TPjz_lI"/>

*▶️ [Jump straight to the video chapter on sources](https://www.youtube.com/watch?v=x-F1TPjz_lI&t=318s).*

## What are sources?

You can now provide source code for your actions, actors, and guards implementations from inside Stately’s editor using the <Code size={18} /> **Sources** panel. When an action, actor, or guard is selected, the **Sources** panel shows its source code. When there is no item selected on the canvas, the  **Sources** panel shows all the sources for your current machine.

From the **Sources** panel, you can add custom source code to suit your needs, or choose from logic templates. Your source code will be included in your [live actors](/docs/stately-sky-getting-started), [synced projects](/docs/import-from-github), and [exported code](/docs/export-as-code) as found in the <Code size={18} /> **Code** panel.

### Logic templates

When editing the sources for your actions, actors, or guards, you can also choose from logic templates. You can use the template buttons to quickly add the implementation code for XState’s [logic creators](/docs/actors#actor-logic-creators), [higher-level guards](/docs/guards#higher-level-guards), and [built-in actions](/docs/actions), and the correct XState imports will be added to your code for sync or export.

```
show the code generated from a template, with a screenshot of the sources panel/template, and a screenshot of the built-in action visualised on the canvas
```

And yes, this means that we can now import your existing source code from your state machines, visualize them on the canvas, show them as sources in the studio, and keep it in tact when exporting or syncing back to your codebase.

If you’re going back and forth between your codebase and Stately’s editor, you can don’t have to worry about the implementation code getting lost or overwritten.

### XState built-in actions

Previously when you added an action to your machine in the editor, you’d have the option to make it a custom action or choose from one of [XState’s built-in actions](TODO:) including [`assign()`](TODO:), [`raise()`](TODO:), and [`sendTo()`](TODO:). Now those built-in actions are shown as fully editable [logic templates](#logic-templates) in the sources panel. Built-in actions will still be shown with their action type on the canvas.

![Built-in action on the canvas with the implementation showing in the sources panel](TODO:)

### Actions, actors, and guards are now named

Previously, not all actions, actors, and guards had names, especially if you had imported [inline actions](/docs/actions#inline-actions) or [inline guards](/docs/guards#inline-guards) from your XState machines. Now, when creating new actions, actors, or guards on the canvas, you’ll be prompted to give them a name.

### Importing sources from existing XState machines

When importing a machine from your codebase, we’ll give them a default name based on its position in your machine config. For example the following action:

```js
createMachine({
	entry: assign(: 1)
})
```

Would be given a default name of `#machine name.a.b.entry[1]`. These default names are not visible in the editor, but will be used in the synced or exported code, unless you give your action, actor, or guard a name. After first importing your machine, we recommend you give all your actions, actors, and guards a name. This is a one-time step, and you can always rename them later.

### Action parameters

## Bi-directional editing with sources and GitHub sync
- Now with sync, you don’t even have to press an export button
- Makes GitHub sync more powerful

## Sources make Stately Sky more powerful

- Stately Sky is now able to execute your actions, actors, and guards

- Makes Stately Sky more powerful

[Read more about sources in our docs](/docs/sources)