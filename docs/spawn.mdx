---
title: 'Spawn'
---

XState is based on the [actor model](actors.mdx). Spawned actors are managed by the state machine. This means the state machine takes care of starting the actor when it’s spawned and stopping it when it’s no longer needed, which can simplify your code and prevent bugs related to improper lifecycle management.

:::tip
[Read about the difference between spawning and invoking actors](actors.mdx#invoking-and-spawning-actors).
:::

## API

```ts
actions: assign({
  ref: ({ spawn }) => spawn(fromPromise(...), {
    id: 'some-id',
  })
})
```

- `spawn(actorBehavior, options?)`
  - `actorBehavior` - The behavior of the actor to spawn. This can be a function, promise, observable, or callback.
  - `options` - Options for spawning the actor.
    - `id` - The ID of the actor. This is used to reference the actor in the state machine.
    - `input`

## Source

- Inline: `spawn(fromPromise(...))`
- Referenced: `spawn('getUser')`
  - `.provide({ actors })`

## Lifecycle

- Created & started when spawned
- Stopped when the machine is stopped
- Can be manually stopped

## Stopping an actor

- `actions: stop('some-id')`

- Note this does not clear it from the `context`

## Spawn and TypeScript

:::typescript

**XState v5 requires TypeScript version 5.0 or greater.** 

For best results, use the latest TypeScript version. [Read more about XState and TypeScript](typescript.mdx)

:::

_Coming soon_

## Spawn cheatsheet

_Coming soon_
