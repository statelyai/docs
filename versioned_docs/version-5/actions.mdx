---
title: 'Actions'
---

import ThemedImage from '@theme/ThemedImage';

While the state machine is running, it can execute other effects called actions.

An action can be fired upon entry or exit of a state. Actions are “fire-and-forget effects”; once the machine has fired the action, it moves on and forgets the action. Actions are not awaited and don’t return anything to the state machine. You can also fire actions on transitions.

Examples of actions:

- Logging a message
- Sending a message to another [actor](actors.mdx)

Coming soon… more examples

```ts
const feedbackMachine = createMachine({
  // ...
  states: {
    // ...
    question: {
      on: {
        'feedback.good': {
          actions: [{ type: 'track', data: { response: 'good' } }]
        }
      },
      exit: 'exitAction'
    }
    thanks: {
      entry: 'showConfetti',
    }
  }
}).provide({
  actions: {
    track: ({ action }) => {
      track(action.params.data);
      // tracks { response: 'good' }
    },
    showConfetti: () => {
      // ...
    }
  }
})
```

## Editor: using actions

:::tip

Watch our [“Entry actions and exit actions” video on YouTube](https://www.youtube.com/watch?v=GYoYZ1Dt1sA&list=PLvWgkXBB3dd4I_l-djWVU2UGPyBgKfnTQ&index=8) (1m32s).

:::

<p>
  <ThemedImage
    alt="Video player state machine containing closed and opened states. On the Play event, the Closed state transitions to the Opened state. The Playing state has an entry action for starting a video playing indicated by the ‘Entry’ label and the text playVideo, and an exit action for pausing a video indicated by the ‘Exit’ lable and the text pauseVideo. The Opened state contains Playing and Paused states, which are transitioned between using the Pause and Play events. There’s a Stop event from the Opened state that transitions to the final state of Stopped. There’s an onDone event from the parent Opened state back to the Closed state."
    sources={{
      light:
        'https://stately.ai/registry/machines/222e2d7a-0ed6-4f2c-843a-e6646d717000.light.png',
      dark: 'https://stately.ai/registry/machines/222e2d7a-0ed6-4f2c-843a-e6646d717000.dark.png',
    }}
  />
</p>

[View this machine in Stately Studio](https://stately.ai/registry/editor/e13bef2b-bb13-4465-96ac-0bc25340688e?machineId=222e2d7a-0ed6-4f2c-843a-e6646d717000).

In our video player machine, we have entry and exit actions on the Playing state. We use the entry action of playVideo to fire an effect playing the video on entry to the Playing state. We use the exit action of pauseVideo to fire an effect pausing the video when the Playing state is exited.

In XState, actions are represented on transitions in the `actions: ...` property. Anywhere you can use an action, you can also declare it as an array to express multiple actions.

Actions can also be on a states’ `entry` or `exit`, also as a single action or an array.

Coming soon… simple example

## Entry and exit actions

Entry actions are actions that occur on any transition that enters a state node.

Coming soon… illustation

Exit actions are actions that occur on any transition that exits a state node.

Coming soon… illustration

Entry and exit actions are defined using the `entry: ...` and `exit: ...` attributes on a state node. You can fire multiple entry and exit actions on a state. Top-level final states cannot have exit actions, since the machine is stopped and no further transitions can occur.

Coming soon… example

### In the Studio

:::tip

Watch our [“Entry actions and exit actions” video on YouTube](https://www.youtube.com/watch?v=GYoYZ1Dt1sA&list=PLvWgkXBB3dd4I_l-djWVU2UGPyBgKfnTQ&index=8) (1m32s).

:::

#### Add an entry action to a state

1. Select the state you want to have an entry action.
2. Open the **State details** panel from the right tool menu.
3. Use the **+** plus icon alongside the **Entry actions** to add a new action.
4. Use the **Custom** tab under **Entry actions** to input the **type** for the entry action.
5. Use the **Assign** tab under **Entry actions** to assign **key** and **assignment** pairs to the entry action.
6. Save the entry action using the **Save** button.

#### Add an exit action to a state

1. Select the state you want to have an exit action.
2. Open the **State details** panel from the right tool menu.
3. Use the **+** plus icon alongside the **Exit actions** to add a new action.
4. Use the **Custom** tab under **Exit actions** to input the **type** for the exit action.
5. Use the **Assign** tab under **Exit actions** to assign **key** and **assignment** pairs to the exit action.
6. Save the entry action using the **Save** button.

## Inline actions

In XState we usually pass options into the config using serialized (also known as *named*) actions:

```ts
import { createMachine } from 'xstate';

const machine = createMachine({
  entry: ['sayHello'],
});
```

You can also declare actions inline:

```ts
import { createMachine } from 'xstate';

const machine = createMachine({
  entry: [
    () => {
      console.log('Hello!');
    },
  ],
});
```

Inline actions are useful for prototyping and simple cases but we generally recommended using serialized actions.

## Action objects

They have a `type` and optional `params`.

Coming soon… parameterized action

### Implementing actions

Actions are implemented with `.provide(...)`

Coming soon… `.provide({ actions })`

- Show how `params` can be used in implementation

From there, you can read `{ action }` object, which has `type` and `params`

### Assign action

Assign action is a special action that assigns data to the state context. Special action

Can assign per property: `assign({ foo: 'bar' })` or overall: `assign(() => ({ foo: 'bar' }))`

Coming soon… example

## Raise action

Raise action is a special action that raises an event. A **raised event** is an event that the machine creates and sends to itself.

Coming soon… example

- Raise delay `{ delay: 1000 }`
- Canceling a delay (link)

Raised events can be dynamic: `raise(({ context, event }) => ({ type: 'SOME_EVENT' }))`

## `send-to` action

The `sendTo(...)` action is a special action that sends an event to a specific actor.

Coming soon… example

- Send to delay `{ delay: 1000 }`
- Canceling a delay (link)

- Link to actors

## Pure action

A pure action is a higher-level action that returns an array of actions to be executed, without actually executing any effects (hence the name "pure").

Coming soon… example

## Log action

A log action is an easy way to log messages to the console.

Coming soon… example

## Choose action

A choose action is a higher-level action that returns an array of actions to be executed.

Coming soon… example

## Cancel action

A cancel action cancels a delayed sendTo/raise action.

## Modeling

- Actions on self-transitions

## Shorthands

- For simple actions, can specify action string instead of object
- Objects preferred for consistency

## TypeScript

_Coming soon_

## Cheatsheet

_Coming soon_