---
title: 'Migrating from XState v4 to v5'
---

### Breaking changes

`Machine` to `createMachine`

`cond` is now `guard`

Single-argument functions

`(context, event)` => `({ context, event })`

`actor.onTransition` is removed; use `actor.subscribe` instead

`send` is deprecated; use `raise` or `sendTo` instead

`internal: false` is now `reenter: true`

`interpret(machine).start(state)` is now `interpret(machine, { state }).start()`

`actor.send(eventObject)` no longer accepts a string; must pass full event object `{ type: '...' }`

No more null events; use `always`

2nd argument to `createMachine` is deprecated: `createMachine(config, options)` is now `createMachine(config).provide(options)`

No more `.withConfig()`; use `.provide()` instead

No more `.withContext()`; use input instead (see below)

Actions are now in predictable order

No strict mode

`state.history` is removed

Batched events `actor.batch([...])` is removed

`config.schema` is now `config.types`

`config.tsTypes` is now in `config.types.typegen`

### New features

Higher-level guards: `and`, `or`, `not`

Partial event wildcards: `on({ 'foo.*': ... })`
